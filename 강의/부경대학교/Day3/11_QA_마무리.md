# 11. Q&A 및 마무리

## 오늘 배운 내용 요약

### 핵심 개념

1. **Spark 기초**
   - 메모리 기반 분산 처리 엔진 (MapReduce보다 100배 빠름)
   - Driver, Executor, Cluster Manager 구조
   - RDD, DataFrame, Dataset

2. **PySpark 실습**
   - DataFrame API: `select`, `filter`, `groupBy`, `agg`, `orderBy`
   - Transformation vs Action (Lazy Evaluation)
   - Spark SQL: `createOrReplaceTempView()`, `spark.sql()`

3. **HDFS 연동**
   - `hdfs://namenode:8020/경로` URI로 HDFS 데이터 읽기/쓰기
   - 컨테이너 네트워킹: 같은 네트워크 필수 (`data-engineering-network`)
   - HDFS 권한 관리 (`chmod`, `chown`)

4. **실무 활용**
   - Kyuubi: SQL Gateway로 Spark, Trino, Flink 통합
   - HDFS에 원본 저장 → Spark로 처리 → 결과 다시 HDFS 저장

---

## Q&A

**자유 질문 시간** — 시간이 남으면 자유롭게 질문받습니다.

- 오늘 다룬 내용·실습·다음 날 준비뿐 아니라
- **네이버 회사 생활은 어떤지**
- **개발자로써 성장하려면 어떻게 해야 하는지**
- **회사 취업 꿀팁이 있는지**
- **오픈소스 메인테이너는 어떻게 됐는지**
- **해외 어디서 살았는지**

등등 편하게 질문 받습니다.

---

### 자주 나오는 질문 (FAQ)

**Q: Spark vs Pandas 언제 쓰나요?**  
A: **Pandas**는 단일 머신에서 작은 데이터(GB 이하)를 빠르게 프로토타이핑할 때 사용합니다. **Spark**는 분산 환경에서 큰 데이터(TB 이상)를 처리하는 프로덕션 파이프라인에 사용합니다. 실무에서는 Pandas로 프로토타입을 만들고, Spark로 확장하는 경우가 많습니다.

**Q: Lazy Evaluation이 왜 중요한가요?**  
A: 실행 계획을 최적화하고 불필요한 연산을 제거할 수 있습니다. 전체 파이프라인을 한 번에 실행하여 효율적이며, 디버깅 시 어느 단계에서 문제가 생겼는지 추적하기도 쉽습니다.

**Q: 실무에서 Spark는 어떤 형태로 쓰나요?**  
A: **클라우드**에서는 Databricks, AWS EMR, Google Dataproc을 많이 씁니다. **온프레미스**에서는 YARN이나 Kubernetes 위에서 실행합니다. **SQL Gateway**로 Kyuubi, Trino를 사용하여 SQL로 Spark에 접근하기도 합니다.

**Q: 컨테이너 네트워킹이 왜 복잡한가요?**  
A: 로컬 실습에서는 수동으로 네트워크를 설정해야 합니다 (학습 목적). 실무에서는 **Kubernetes**가 네트워킹을 자동으로 관리하므로 이런 문제가 거의 없습니다.

**Q: HDFS 권한 문제가 계속 생겨요**  
A: Spark는 `jovyan` 사용자로 실행되는데, HDFS 디렉토리가 `root` 소유일 수 있습니다. `hdfs dfs -chmod -R 777 /user/data`로 권한을 변경하면 해결됩니다.

**Q: Day4 전에 뭘 해두면 좋을까요?**  
A: **Spark와 HDFS 환경을 유지**해 두세요 (컨테이너 실행 상태). Day4에서 데이터 파이프라인을 구축합니다. 오늘 종합 실습 과제를 완료하지 못했다면 복습하세요.

---

## 다음 시간 예고

**Day 4: 데이터 처리 흐름 만들기**

저장(HDFS)과 처리(Spark)를 연결해 **완전한 데이터 파이프라인**을 만듭니다.

- 배치 처리 개념
- Data Warehouse vs Data Lake
- ETL / ELT / ETLT
- 파이프라인 자동화 및 검증
- 실전 ETLT 파이프라인 구축

---

## 수고하셨습니다!

오늘 분산 처리의 기초를 배웠습니다. 내일은 데이터 파이프라인을 만들어봅니다!
